{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","persons","setFindName","onChange","event","found","filter","person","name","toLowerCase","includes","target","value","PersonForm","handleAddContact","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","number","id","handleDeleteContact","onClick","Persons","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","classMessage","className","App","useState","setPersons","setNewName","setNewNumber","findName","setMessage","useEffect","personsService","initialPersons","addNewContact","contact","personObject","concat","showMessage","clean","catch","error","changeContact","existingName","personsObject","status","msg","setTimeout","checkName","find","preventDefault","window","confirm","addContact","length","deleteContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1fbd4311.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({persons, setFindName}) => {\r\n  \r\n  const handleSearch = (event) => {\r\n    const found = persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()));\r\n    setFindName(found);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      filter shown with <input\r\n        onChange={handleSearch}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({handleAddContact, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n  <form onSubmit={handleAddContact}>\r\n    <div>\r\n      name: <input\r\n        value={newName}\r\n        onChange={handleNameChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      number: <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange}\r\n      /></div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Persons = ({ persons, handleDeleteContact}) => {\r\n\r\n  return (<ul>{persons.map(person =>\r\n    <Person\r\n      key={person.id}\r\n      name={person.name}\r\n      number={person.number}\r\n      id = {person.id}\r\n      handleDeleteContact={handleDeleteContact}\r\n    />)} </ul>)\r\n}\r\n\r\nconst Person = ({ name, number, id, handleDeleteContact}) => {\r\n  return (<li>\r\n    {name} {number} <button onClick = {() => handleDeleteContact(id)}>delete</button>\r\n  </li>);\r\n}\r\n\r\nexport default Persons;","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, update, remove };","import React from 'react'\r\n\r\nconst Notification = ({ message, classMessage }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={classMessage} >\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './components/Notification.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('');\n  const [findName, setFindName] = useState([]);\n  const [message, setMessage] = useState({ message: '', classMessage: '' })\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addContact = () => {\n    const existingName = checkName(newName);\n\n    //changes number for a existing contact\n    if (existingName) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        changeContact(existingName)\n      }\n    } else {\n      //adds a new contact\n      const contact = {\n        name: newName,\n        number: newNumber\n      }\n      addNewContact(contact);\n    }\n  }\n\n  const addNewContact = (contact) => {\n    personsService\n      .create(contact)\n      .then(personObject => {\n        setPersons(persons.concat(personObject));\n        showMessage(`Added ${contact.name}`, 'success')\n        clean();\n      }).catch(error => {\n        showMessage(`Failed to add ${contact.name}. Reason: ${error.response.data.error}`, 'error');\n      })\n  }\n\n  const changeContact = (existingName) => {\n    const contact = {\n      id: existingName.id,\n      name: newName,\n      number: newNumber\n    }\n    personsService\n      .update(existingName.id, contact)\n      .then(personsObject => {\n        setPersons(persons.map(person => person.id === existingName.id ? contact : { id: person.id, ...person })) // copy the existing array keeping id and making the new changes\n        showMessage(`Changed ${contact.name}`, 'success')\n        clean();\n      }).catch(error => {\n        if (error.response.status === 404) {\n          showMessage(`Information of ${contact.name} has already been removed from server`, 'error');\n        } else {\n          showMessage(`Failed to change ${contact.name}. Reason: ${error.response.data.error}`, 'error');\n        }\n      })\n  }\n\n  const clean = () => {\n    setNewName('');\n    setNewNumber('');\n    setFindName([]);\n  }\n\n  const deleteContact = (id) => {\n    const name = persons.find(person => person.id === id).name;\n    if (window.confirm(`Delete ${name} ?`)) {\n      personsService.remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          showMessage(`Deleted ${name}`, 'success')\n        })\n        .catch(error => {\n          if (error.response.status === 404) {\n            showMessage(`Information of ${name} has already been removed from server`, 'error')\n          } else {\n            showMessage(`Failed to delete ${name}`, 'error');\n          }\n        })\n    }\n  }\n\n  const showMessage = (msg, classMessage) => {\n    setMessage({ message: msg, classMessage: classMessage })\n    setTimeout(() => {\n      setMessage({ message: null, classMessage: null });\n    }, 5000)\n  }\n\n  const checkName = (newName) => persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n\n  const handleDeleteContact = (id) => deleteContact(id);\n\n  const handleAddContact = (event) => {\n    event.preventDefault();\n    addContact(event);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message.message} classMessage={message.classMessage} />\n      <Filter persons={persons} setFindName={setFindName} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        handleAddContact={handleAddContact}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons\n        persons={findName.length > 0 ? findName : persons}\n        handleDeleteContact={handleDeleteContact}\n      />\n\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}